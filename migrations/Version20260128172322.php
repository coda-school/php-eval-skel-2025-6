<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20260128172322 extends AbstractMigration
{
    public function getDescription(): string
    {
        return '';
    }

    public function up(Schema $schema): void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('CREATE TABLE profile (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, username VARCHAR(30) NOT NULL, password VARCHAR(30) NOT NULL, email VARCHAR(255) NOT NULL, bio VARCHAR(255) NOT NULL, followers INT NOT NULL, following INT NOT NULL, profile_picture VARCHAR(255) DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE TABLE profile_xlike (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, profile_id INT NOT NULL, ver_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE TABLE profile_xprofile (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, profile_one_id INT NOT NULL, profile_two_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE TABLE response (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, ver_id INT NOT NULL, content TEXT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE TABLE ver (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, user_id INT NOT NULL, content TEXT NOT NULL, likes INT NOT NULL, comments INT NOT NULL, shares INT NOT NULL, date TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY (id))');
    }

    public function down(Schema $schema): void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('DROP TABLE profile');
        $this->addSql('DROP TABLE profile_xlike');
        $this->addSql('DROP TABLE profile_xprofile');
        $this->addSql('DROP TABLE response');
        $this->addSql('DROP TABLE ver');
    }
}
